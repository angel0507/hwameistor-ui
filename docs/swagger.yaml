definitions:
  api.BaseMetric:
    properties:
      claimedDiskNum:
        description: 纳管磁盘
        type: integer
      claimedNodeNum:
        description: 纳管节点数
        type: integer
      freeCapacityBytes:
        description: 可使用容量
        type: integer
      healthyDiskNum:
        description: 健康磁盘
        type: integer
      highAvailableVolumeNum:
        description: 高可用卷数目
        type: integer
      localVolumeNum:
        description: 本地卷总数
        type: integer
      nonHighAvailableVolumeNum:
        description: 非高可用卷数目
        type: integer
      reservedCapacityBytes:
        description: 已预留容量
        type: integer
      totalCapacityBytes:
        description: 总容量
        type: integer
      totalDiskNum:
        description: 总磁盘数
        type: integer
      totalNodeNum:
        description: 总节点数
        type: integer
      unHealthyDiskNum:
        description: 错误磁盘
        type: integer
      usedCapacityBytes:
        description: 已使用容量
        type: integer
    type: object
  api.DrbdEnableSetting:
    properties:
      enabledrbd:
        type: boolean
      state:
        description: 'Possible state: Claimed, UnClaimed, Inuse, Released, Reserved
          状态'
        type: string
      version:
        type: string
    type: object
  api.HAState:
    properties:
      reason:
        description: Reason is why this state happened
        type: string
      state:
        description: Consistent, Inconsistent, replica is ready only when consistent
        type: string
    type: object
  api.LocalDisk:
    properties:
      availableCapacityBytes:
        description: AvailableCapacityBytes 可用容量
        type: integer
      devPath:
        description: e.g. /dev/sdb 磁盘路径
        type: string
      hasRaid:
        description: HasRAID 是否Raid
        type: boolean
      localStoragePooLName:
        description: LocalStoragePooLName 存储池名称
        type: string
      state:
        description: 'Possible state: Claimed, UnClaimed, Inuse, Released, Reserved
          状态'
        type: string
      totalCapacityBytes:
        description: TotalCapacityBytes 总容量
        type: integer
      type:
        description: 'Supported: HDD, SSD, NVMe, RAM 磁盘类型'
        type: string
    type: object
  api.LocalDiskListByNode:
    properties:
      localDisks:
        description: localDisks 节点磁盘列表
        items:
          $ref: '#/definitions/api.LocalDisk'
        type: array
      nodeName:
        description: nodeName 节点名称
        type: string
      page:
        description: page
        type: integer
      pageSize:
        description: pageSize
        type: integer
    type: object
  api.LocalVolumeMigrate:
    properties:
      kind:
        type: string
      metadata:
        properties:
          name:
            type: string
          namespace:
            type: string
        type: object
      spec:
        $ref: '#/definitions/api.LocalVolumeMigrateSpec'
      status:
        $ref: '#/definitions/api.LocalVolumeMigrateStatus'
    type: object
  api.LocalVolumeMigrateSpec:
    properties:
      abort:
        description: abort
        type: boolean
      migrateAllVols:
        description: migrateAllVols
        type: boolean
      sourceNode:
        description: sourceNode
        type: string
      targetNodesSuggested:
        description: targetNodesSuggested
        items:
          type: string
        type: array
      volumeName:
        description: volumeName
        type: string
    type: object
  api.LocalVolumeMigrateStatus:
    properties:
      message:
        description: error message to describe some states
        type: string
      originalReplicaNumber:
        description: record the volume's replica number, it will be set internally
        type: integer
      state:
        description: State of the operation, e.g. submitted, started, completed, abort,
          ...
        type: string
      targetNode:
        description: record the node where the specified replica is migrated to
        type: string
    type: object
  api.LocalVolumeReplica:
    properties:
      kind:
        type: string
      metadata:
        properties:
          name:
            type: string
          namespace:
            type: string
        type: object
      spec:
        $ref: '#/definitions/api.LocalVolumeReplicaSpec'
      status:
        $ref: '#/definitions/api.LocalVolumeReplicaStatus'
    type: object
  api.LocalVolumeReplicaSpec:
    properties:
      delete:
        type: boolean
      nodeName:
        description: NodeName is the assigned node where the volume replica is located
        type: string
      poolName:
        description: PoolName is the name of the storage pool, e.g. LocalStorage_PoolHDD,
          LocalStorage_PoolSSD, etc..
        type: string
      requiredCapacityBytes:
        type: integer
      volumeName:
        description: VolumeName is the name of the volume, e.g. pvc-fbf3ffc3-66db-4dae-9032-bda3c61b8f85
        type: string
    type: object
  api.LocalVolumeReplicaStatus:
    properties:
      allocatedCapacityBytes:
        description: AllocatedCapacityBytes is the real allocated capacity in bytes
        type: integer
      devPath:
        description: |-
          DevicePath is a link path of the StoragePath of the volume replica,
          e.g. /dev/LocalStorage_PoolHDD/pvc-fbf3ffc3-66db-4dae-9032-bda3c61b8f85
        type: string
      disks:
        description: Disks is a list of physical disks where the volume replica is
          spread cross, especially for striped LVM volume replica
        items:
          type: string
        type: array
      haState:
        $ref: '#/definitions/api.HAState'
        description: HAState is state for ha replica, replica.Status.State == Ready
          only when HAState is Consistent of nil
      inuse:
        description: InUse is one of volume replica's states, which indicates the
          replica is used by a Pod or not
        type: boolean
      state:
        description: State is the phase of volume replica, e.g. Creating, Ready, NotReady,
          ToBeDeleted, Deleted
        type: string
      storagePath:
        description: StoragePath is a real path of the volume replica, like /dev/sdg.
        type: string
      synced:
        description: Synced is the sync state of the volume replica, which is important
          in HA volume
        type: boolean
    type: object
  api.ModuleStatus:
    properties:
      name:
        description: 组件名称
        type: string
      state:
        description: 组件状态 运行中 未就绪
        type: string
    type: object
  api.ModuleStatusMetric:
    properties:
      modulesStatus:
        items:
          $ref: '#/definitions/api.ModuleStatus'
        type: array
    type: object
  api.NodeDiskListByPool:
    properties:
      localDiskListByNodes:
        description: LocalDiskListByNodes
        items:
          $ref: '#/definitions/api.LocalDiskListByNode'
        type: array
      page:
        description: page
        type: integer
      pageSize:
        description: pageSize
        type: integer
      storagePoolName:
        description: StoragePoolName 存储池名称
        type: string
    type: object
  api.NodeStorageUse:
    properties:
      name:
        description: 存储节点名字
        type: string
      totalCapacityBytes:
        description: 总容量
        type: integer
      usedCapacityBytes:
        description: 已使用容量
        type: integer
    type: object
  api.NodeStorageUseMetric:
    properties:
      nodeStoragesUse:
        description: 节点存储TOP5 使用率列表 5条列表上限
        items:
          $ref: '#/definitions/api.NodeStorageUse'
        type: array
      storagePoolClass:
        description: 存储池类型 SSD HDD
        type: string
    type: object
  api.Operation:
    properties:
      description:
        description: 详细描述
        type: string
      endTime:
        description: 结束时间
        type: string
      eventName:
        description: 事件名称
        type: string
      eventType:
        description: 事件类型
        type: string
      startTime:
        description: 开始时间
        type: string
      status:
        description: 状态
        type: string
    type: object
  api.OperationMetric:
    properties:
      operationList:
        items:
          $ref: '#/definitions/api.Operation'
        type: array
    type: object
  api.StorageNode:
    properties:
      driverStatus:
        description: driver status 驱动状态
        type: string
      freeCapacityBytes:
        description: freeCapacityBytes LSN可分配存储容量
        type: integer
      ip:
        description: ip 节点IP
        type: string
      isRaid:
        description: IsRAID 是否Raid
        type: boolean
      name:
        description: name 节点名字
        type: string
      nodeState:
        description: node state 节点状态
        type: string
      totalDiskCount:
        description: totalDiskCount 总磁盘数
        type: integer
      totalHDDCapacityBytes:
        description: totalHDDCapacityBytes HDD存储总容量
        type: integer
      totalSSDCapacityBytes:
        description: totalSSDCapacityBytes SSD存储总容量
        type: integer
      usedDiskCount:
        description: usedDiskCount 已纳管磁盘数
        type: integer
      usedHDDCapacityBytes:
        description: usedHDDCapacityBytes HDD已经使用存储量
        type: integer
      usedSSDCapacityBytes:
        description: usedSSDCapacityBytes SSD已经使用存储量
        type: integer
    type: object
  api.StorageNodeList:
    properties:
      page:
        description: page
        type: integer
      pageSize:
        description: pageSize
        type: integer
      storageNodes:
        description: StorageNodes
        items:
          $ref: '#/definitions/api.StorageNode'
        type: array
    type: object
  api.StorageNodeListByPool:
    properties:
      storageNodes:
        description: StorageNodes
        items:
          $ref: '#/definitions/api.StorageNode'
        type: array
      storagePoolName:
        description: StoragePoolName 存储池名称
        type: string
    type: object
  api.StoragePool:
    properties:
      class:
        description: 'Supported class: HDD, SSD, NVMe 磁盘类型'
        type: string
      createTime:
        description: createTime 创建时间
        type: string
      highAvailability:
        description: HighAvailability 是否高可用
        type: boolean
      name:
        description: 'Supported pool name: HDD_POOL, SSD_POOL, NVMe_POOL 存储池名称'
        type: string
      nodesNum:
        description: NodesNum 节点数
        type: integer
      totalCapacityBytes:
        description: TotalCapacityBytes 存储池对应存储总容量
        type: integer
      usedCapacityBytes:
        description: UsedCapacityBytes 存储池已经使用存储容量
        type: integer
    type: object
  api.StoragePoolList:
    properties:
      page:
        description: page
        type: integer
      pageSize:
        description: pageSize
        type: integer
      storagePools:
        description: storagePools
        items:
          $ref: '#/definitions/api.StoragePool'
        type: array
    type: object
  api.StoragePoolUse:
    properties:
      name:
        description: 存储池名字
        type: string
      totalCapacityBytes:
        description: 总容量
        type: integer
      usedCapacityBytes:
        description: 已使用容量
        type: integer
    type: object
  api.StoragePoolUseMetric:
    properties:
      storagePoolsUse:
        items:
          $ref: '#/definitions/api.StoragePoolUse'
        type: array
    type: object
  api.Volume:
    properties:
      convertible:
        description: Convertible 转换高可用模式
        type: boolean
      createTime:
        description: createTime 创建时间
        type: string
      name:
        description: local volume name 名称
        type: string
      pvcName:
        description: PersistentVolumeClaimName is the name of the associated PVC 绑定PVC
        type: string
      pvcNamespace:
        description: PersistentVolumeClaimNamespace is the namespace of the associated
          PVC 命名空间
        type: string
      replicaNumber:
        description: replica number 副本数
        type: integer
      requiredCapacityBytes:
        description: size 容量
        type: integer
      state:
        description: local volume state 状态
        type: string
      volumegroup:
        description: VolumeGroup is the group name of the local volumes. It is designed
          for the scheduling and allocating. 磁盘组
        type: string
    type: object
  api.VolumeList:
    properties:
      page:
        description: page
        type: integer
      pageSize:
        description: pageSize
        type: integer
      volumes:
        description: volumes
        items:
          $ref: '#/definitions/api.Volume'
        type: array
    type: object
  api.VolumeMigrateOperation:
    properties:
      VolumeName:
        description: VolumeName 迁移卷名称
        type: string
      endTime:
        description: EndTime 迁移结束时间
        type: string
      name:
        description: VolumeMigrateName 迁移CRD名称
        type: string
      sourceNode:
        description: SourceNode 迁移源节点
        type: string
      startTime:
        description: StartTime 迁移开始时间
        type: string
      state:
        description: State 迁移状态
        type: string
      targetNode:
        description: TargetNode 迁移目的节点
        type: string
    type: object
  api.VolumeOperation:
    properties:
      VolumeMigrateOperations:
        description: VolumeMigrateOperations
        items:
          $ref: '#/definitions/api.VolumeMigrateOperation'
        type: array
      page:
        description: page
        type: integer
      pageSize:
        description: pageSize
        type: integer
      volumeName:
        description: volume name
        type: string
    type: object
  api.VolumeOperationList:
    properties:
      VolumeOperations:
        description: VolumeOperations
        items:
          $ref: '#/definitions/api.VolumeOperation'
        type: array
      nodeName:
        description: node name
        type: string
    type: object
  api.VolumeReplica:
    properties:
      devicePath:
        description: |-
          DevicePath is a link path of the StoragePath of the volume replica,
          e.g. /dev/LocalStorage_PoolHDD/pvc-fbf3ffc3-66db-4dae-9032-bda3c61b8f85
        type: string
      name:
        description: replica name
        type: string
      nodeName:
        description: NodeName is the assigned node where the volume replica is located
          节点
        type: string
      requiredCapacityBytes:
        description: RequiredCapacityBytes 容量
        type: integer
      state:
        description: replica state
        type: string
      storagePath:
        description: StoragePath is a real path of the volume replica, like /dev/sdg.
        type: string
      synced:
        description: Synced is the sync state of the volume replica, which is important
          in HA volume 同步状态
        type: boolean
    type: object
  api.VolumeReplicaList:
    properties:
      volumeName:
        description: volume name
        type: string
      volumeReplicas:
        description: VolumeReplicas
        items:
          $ref: '#/definitions/api.VolumeReplica'
        type: array
    type: object
info:
  contact: {}
paths:
  /Settings/highavailabilitysetting:
    get:
      consumes:
      - application/json
      description: get DRBDSettingGet
      parameters:
      - description: enabledrbd
        in: query
        name: Enabledrbd
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.DrbdEnableSetting'
      summary: 摘要 获取高可用设置
      tags:
      - Setting
  /Settings/highavailabilitysetting/:enabledrbd:
    post:
      consumes:
      - application/json
      description: post EnableDRBDSetting
      parameters:
      - description: enabledrbd
        in: query
        name: Enabledrbd
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.DrbdEnableSetting'
      summary: 摘要 高可用设置
      tags:
      - Setting
  /metrics/basemetric:
    get:
      consumes:
      - application/json
      description: get volume
      parameters:
      - description: name
        in: query
        name: Name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/api.BaseMetric'
      summary: 摘要 获取基础监控指标
      tags:
      - Metric
  /metrics/modulestatusmetric:
    get:
      consumes:
      - application/json
      description: ModuleStatusMetric
      parameters:
      - description: name
        in: query
        name: Name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/api.ModuleStatusMetric'
      summary: 摘要 获取组件状态监控指标
      tags:
      - Metric
  /metrics/nodestorageusemetric/:storagepoolclass:
    get:
      consumes:
      - application/json
      description: NodeStorageUseMetric
      parameters:
      - description: storagePoolClass
        in: query
        name: StoragePoolClass
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/api.NodeStorageUseMetric'
      summary: 摘要 获取指定存储池类型节点存储TOP5使用率监控指标
      tags:
      - Metric
  /metrics/operations:
    get:
      consumes:
      - application/json
      description: OperationList
      parameters:
      - description: name
        in: query
        name: Name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/api.OperationMetric'
      summary: 摘要 获取操作记录列表
      tags:
      - Metric
  /metrics/storagepoolmetric:
    get:
      consumes:
      - application/json
      description: StoragePoolMetric
      parameters:
      - description: name
        in: query
        name: Name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/api.StoragePoolUseMetric'
      summary: 摘要 获取存储池资源监控指标
      tags:
      - Metric
  /nodes/storagenodes:
    get:
      consumes:
      - application/json
      description: list StorageNode
      parameters:
      - description: name
        in: query
        name: Name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.StorageNodeList'
      summary: 摘要 获取存储节点列表
      tags:
      - Node
  /nodes/storagenodes/:storagenodename:
    get:
      consumes:
      - application/json
      description: get StorageNode
      parameters:
      - description: name
        in: query
        name: Name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.StorageNode'
      summary: 摘要 获取指定存储节点
      tags:
      - Node
  /nodes/storagenodes/:storagenodename/disks:
    get:
      consumes:
      - application/json
      description: list StorageNodeDisks
      parameters:
      - description: nodeName
        in: query
        name: NodeName
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.LocalDiskListByNode'
      summary: 摘要 获取指定存储节点磁盘列表
      tags:
      - Node
  /nodes/storagenodes/:storagenodename/migrates:
    get:
      consumes:
      - application/json
      description: get StorageNodeMigrate
      parameters:
      - description: nodeName
        in: query
        name: NodeName
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.VolumeOperationList'
      summary: 摘要 获取指定节点数据卷迁移任务列表
      tags:
      - Node
  /pools/storagepools:
    get:
      consumes:
      - application/json
      description: list StoragePools
      parameters:
      - description: name
        in: query
        name: Name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.StoragePoolList'
      summary: 摘要 获取存储池列表信息
      tags:
      - Pool
  /pools/storagepools/:storagepoolname:
    get:
      consumes:
      - application/json
      description: get Pool
      parameters:
      - description: name
        in: query
        name: Name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.StoragePool'
      summary: 摘要 获取指定存储池基本信息
      tags:
      - Pool
  /pools/storagepools/:storagepoolname/nodes:
    get:
      consumes:
      - application/json
      description: get StorageNodesGetByPoolName
      parameters:
      - description: storagePoolName
        in: query
        name: StoragePoolName
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.StorageNodeListByPool'
      summary: 摘要 获取指定存储池存储节点列表信息
      tags:
      - Pool
  /pools/storagepools/:storagepoolname/nodes/:nodename/disks:
    get:
      consumes:
      - application/json
      description: get StorageNodeDisksGetByPoolName
      parameters:
      - description: nodeName
        in: query
        name: NodeName
        required: true
        type: string
      - description: storagePoolName
        in: query
        name: StoragePoolName
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.NodeDiskListByPool'
      summary: 摘要 获取指定存储池指定存储节点磁盘列表信息
      tags:
      - Pool
  /volumes/volumeoperations:
    get:
      consumes:
      - application/json
      description: list VolumeOperations
      parameters:
      - description: name
        in: query
        name: Name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/api.VolumeOperationList'
      summary: 摘要 获取数据卷操作记录列表信息
      tags:
      - Volume
  /volumes/volumeoperations/:volumename:
    get:
      consumes:
      - application/json
      description: get VolumeOperation
      parameters:
      - description: volumeName
        in: query
        name: VolumeName
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/api.VolumeOperation'
      summary: 摘要 获取指定数据卷操作记录信息（目前仅包含迁移运维操作）
      tags:
      - Volume
  /volumes/volumeoperations/yamls/:operationname:
    get:
      consumes:
      - application/json
      description: get VolumeOperationYamlGet
      parameters:
      - description: name
        in: query
        name: Name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/api.LocalVolumeMigrate'
      summary: 摘要 获取数据卷操作记录yaml信息
      tags:
      - Volume
  /volumes/volumereplicas/:volumename:
    get:
      consumes:
      - application/json
      description: list volumes
      parameters:
      - description: volumeName
        in: query
        name: VolumeName
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/api.VolumeReplicaList'
      summary: 摘要 获取指定数据卷的副本列表信息
      tags:
      - Volume
  /volumes/volumereplicas/yamls/:volumereplicaname:
    get:
      consumes:
      - application/json
      description: get VolumeReplicaYaml
      parameters:
      - description: name
        in: query
        name: Name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/api.LocalVolumeReplica'
      summary: 摘要 查看指定数据卷副本yaml信息
      tags:
      - Volume
  /volumes/volumes:
    get:
      consumes:
      - application/json
      description: list Volume
      parameters:
      - description: name
        in: query
        name: Name
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/api.VolumeList'
      summary: 摘要 获取数据卷列表信息
      tags:
      - Volume
  /volumes/volumes/:volumename:
    get:
      consumes:
      - application/json
      description: get Volume
      parameters:
      - description: name
        in: query
        name: Name
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Volume'
      summary: 摘要 获取指定数据卷基本信息
      tags:
      - Volume
swagger: "2.0"
